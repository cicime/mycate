<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<title>Demo</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<style type="text/css">
		body {
			font-family: "微软雅黑";
			line-height: 2em;
		}
	</style>
</head>

<body>
	<h1>员工查询</h1>
	<label>请输入员工编号：</label>
	<input type="text" id="keyword"><br>

	<button id="search">查询</button>
	<p id="searchResult">1321</p>

	<h1>员工创建</h1>
	<label>请输入员工姓名：</label>
	<input type="text" id="staffName"><br>
	<label>请输入员工编号：</label>
	<input type="text" id="staffNumber"><br>
	<label>请输入员工性别：</label>
	<select id="staffSex">
		<option>男</option>
		<option>女</option>
	</select>
	<label>请输入员工职位：</label>
	<input type="text" id="staffJob"><br>

	<button id="save">保存</button>
	<p id="createResult">12313</p>
	<script>
		// get
		document.getElementById('search').onclick = function () {
			// 发送Ajax查询请求并处理
			var request = new XMLHttpRequest();
			request.open('GET', 'data/server.php?number=' + document.getElementById('keyword').value);
			request.send();
			request.onreadystatechange = function () {
				if (request.readyState === 4) {
					if (request.status === 200) {
						document.getElementById('searchResult').innerHTML = request.responseText;
					} else {
						alert('发生错误：' + request.status);
					}
				}
			}
		}
		// post
		document.getElementById('save').onclick = function () {
			var request = new XMLHttpRequest();
			request.open('POST', 'data/server.php');
			var data = "name=" + document.getElementById("staffName").value
				+ "&number=" + document.getElementById("staffNumber").value
				+ "&sex=" + document.getElementById("staffSex").value
				+ "&job=" + document.getElementById("staffJob").value;
			request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
			request.send(data);
			request.onreadystatechange = function () {
				if (request.readyState === 4) {
					if (request.status === 200) {
						document.getElementById('createResult').innerHTML = request.responseText;
					} else {
						alert('发生错误：' + request.status);
					}
				}
			}
		}
	</script>
</body>

</html>